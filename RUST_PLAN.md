# –ü–ª–∞–Ω —Å–æ–∑–¥–∞–Ω–∏—è GPU Temperature Monitor –Ω–∞ Rust

## –¢–µ–∫—É—â–∞—è –ø—Ä–æ–±–ª–µ–º–∞ —Å PowerShell –≤–µ—Ä—Å–∏–µ–π
- PowerShell –ø—Ä–æ—Ü–µ—Å—Å—ã –∑–∞–ø—É—Å–∫–∞—é—Ç—Å—è, –Ω–æ –±—ã—Å—Ç—Ä–æ –∑–∞–≤–µ—Ä—à–∞—é—Ç—Å—è
- –ü—Ä–æ–±–ª–µ–º—ã —Å BurntToast –º–æ–¥—É–ª–µ–º –∏ execution policy
- –í—ã—Å–æ–∫–æ–µ –ø–æ—Ç—Ä–µ–±–ª–µ–Ω–∏–µ —Ä–µ—Å—É—Ä—Å–æ–≤ (~20MB+ –ø–∞–º—è—Ç–∏)
- –ù–µ—Å—Ç–∞–±–∏–ª—å–Ω–∞—è —Ä–∞–±–æ—Ç–∞ –≤ Scheduled Tasks

## –†–µ—à–µ–Ω–∏–µ: –ù–∞—Ç–∏–≤–Ω–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –Ω–∞ Rust

### 1. –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
- **–ù–∞—Ç–∏–≤–Ω–æ–µ Windows –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ** —Å –º–∏–Ω–∏–º–∞–ª—å–Ω—ã–º –ø–æ—Ç—Ä–µ–±–ª–µ–Ω–∏–µ–º —Ä–µ—Å—É—Ä—Å–æ–≤ (~1MB –∏—Å–ø–æ–ª–Ω—è–µ–º—ã–π —Ñ–∞–π–ª, <1% CPU)
- **System Tray –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å** —Å —Ü–≤–µ—Ç–æ–≤–æ–π –∏–Ω–¥–∏–∫–∞—Ü–∏–µ–π —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä—ã (üü¢üü°üî¥)
- **Async HTTP –∫–ª–∏–µ–Ω—Ç** –¥–ª—è LibreHardwareMonitor JSON API (127.0.0.1:8085/data.json)
- **Windows toast notifications** –ø—Ä–∏ –ø—Ä–µ–≤—ã—à–µ–Ω–∏–∏ –ø–æ—Ä–æ–≥–∞

### 2. –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è

#### –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –¥–ª—è Cargo.toml:
```toml
[package]
name = "gpu-temp-watch"
version = "0.1.0"
edition = "2021"

[dependencies]
tokio = { version = "1", features = ["full"] }
reqwest = { version = "0.12", features = ["json"] }
serde = { version = "1.0", features = ["derive"] }
serde_json = "1.0"
trayicon = "0.1"
winrt-notification = "0.5"

[profile.release]
opt-level = "s"
lto = true
panic = "abort"
strip = true
```

#### –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞:
```
gpu-temp-watch/
‚îú‚îÄ‚îÄ Cargo.toml
‚îú‚îÄ‚îÄ src/
‚îÇ   ‚îú‚îÄ‚îÄ main.rs          # Entry point + system tray setup
‚îÇ   ‚îú‚îÄ‚îÄ monitor.rs       # GPU monitoring logic
‚îÇ   ‚îú‚îÄ‚îÄ notifications.rs # Toast notifications
‚îÇ   ‚îî‚îÄ‚îÄ config.rs        # Configuration
‚îî‚îÄ‚îÄ resources/
    ‚îî‚îÄ‚îÄ icon.ico         # Tray icon
```

### 3. –ö–ª—é—á–µ–≤—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã

#### System Tray:
- –ü–æ—Å—Ç–æ—è–Ω–Ω–∞—è –∏–∫–æ–Ω–∫–∞ –≤ —Ç—Ä–µ–µ —Å —Ü–≤–µ—Ç–æ–≤–æ–π –∏–Ω–¥–∏–∫–∞—Ü–∏–µ–π
- –ö–æ–Ω—Ç–µ–∫—Å—Ç–Ω–æ–µ –º–µ–Ω—é: –Ω–∞—Å—Ç—Ä–æ–π–∫–∏, –ø–∞—É–∑–∞/–∑–∞–ø—É—Å–∫, –≤—ã—Ö–æ–¥
- Tooltip —Å —Ç–µ–∫—É—â–µ–π —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä–æ–π

#### Monitoring Engine:
- Async polling LibreHardwareMonitor JSON API –∫–∞–∂–¥—ã–µ 20 —Å–µ–∫—É–Ω–¥
- –ü–æ–∏—Å–∫ GPU —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä–Ω—ã—Ö —Å–µ–Ω—Å–æ—Ä–æ–≤ –ø–æ –ø–∞—Ç—Ç–µ—Ä–Ω–∞–º (`*GPU*Core*`, `*GPU*Hot*`)
- Smart cooldown –¥–ª—è —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π (20s ‚Üí 40s ‚Üí 80s ‚Üí 160s)

#### Configuration:
- –ü–æ—Ä–æ–≥ —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä—ã (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é 60¬∞C)
- –ò–Ω—Ç–µ—Ä–≤–∞–ª polling (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é 20s)
- –ü–∞—Ç—Ç–µ—Ä–Ω—ã –¥–ª—è –ø–æ–∏—Å–∫–∞ GPU —Å–µ–Ω—Å–æ—Ä–æ–≤

### 4. –ö–æ–º–∞–Ω–¥—ã –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏

#### –°–æ–∑–¥–∞–Ω–∏–µ –ø—Ä–æ–µ–∫—Ç–∞:
```bash
cargo new gpu-temp-watch --bin
cd gpu-temp-watch
```

#### –†–∞–∑—Ä–∞–±–æ—Ç–∫–∞:
```bash
cargo run                    # –ó–∞–ø—É—Å–∫ –≤ debug —Ä–µ–∂–∏–º–µ
cargo build --release      # –°–±–æ—Ä–∫–∞ –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω–æ–π –≤–µ—Ä—Å–∏–∏
```

#### –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è —Ä–∞–∑–º–µ—Ä–∞:
```bash
cargo build --release
strip target/release/gpu-temp-watch.exe  # –£–¥–∞–ª–µ–Ω–∏–µ debug —Å–∏–º–≤–æ–ª–æ–≤
# –§–∏–Ω–∞–ª—å–Ω—ã–π —Ä–∞–∑–º–µ—Ä: ~150KB (–±–µ–∑ UPX), ~80KB (—Å UPX)
```

### 5. –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∏ –∞–≤—Ç–æ–∑–∞–≥—Ä—É–∑–∫–∞
- –°–æ–∑–¥–∞–Ω–∏–µ Windows Service –∏–ª–∏ Scheduled Task
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –∑–∞–ø—É—Å–∫ –ø—Ä–∏ –ª–æ–≥–∏–Ω–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- Fallback detection –µ—Å–ª–∏ LibreHardwareMonitor –Ω–µ –¥–æ—Å—Ç—É–ø–µ–Ω

### 6. –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ –Ω–∞–¥ PowerShell –≤–µ—Ä—Å–∏–µ–π
- ‚úÖ –ú–≥–Ω–æ–≤–µ–Ω–Ω—ã–π –∑–∞–ø—É—Å–∫ (–Ω–µ—Ç PowerShell overhead)
- ‚úÖ –ú–∏–Ω–∏–º–∞–ª—å–Ω–æ–µ –ø–æ—Ç—Ä–µ–±–ª–µ–Ω–∏–µ –ø–∞–º—è—Ç–∏ (<2MB vs 20MB+)
- ‚úÖ –ù–∞—Ç–∏–≤–Ω–∞—è –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å Windows
- ‚úÖ –°–∞–º–æ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω—ã–π –∏—Å–ø–æ–ª–Ω—è–µ–º—ã–π —Ñ–∞–π–ª
- ‚úÖ –ù–∞–¥–µ–∂–Ω–∞—è —Ä–∞–±–æ—Ç–∞ –±–µ–∑ dependency hell
- ‚úÖ –ù–µ—Ç –ø—Ä–æ–±–ª–µ–º —Å execution policy
- ‚úÖ –°—Ç–∞–±–∏–ª—å–Ω–∞—è —Ä–∞–±–æ—Ç–∞ –≤ Scheduled Tasks

### 7. –ü–ª–∞–Ω —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ (TODO)
1. ‚úÖ –£—Å—Ç–∞–Ω–æ–≤–∫–∞ Rust toolchain
2. [ ] –°–æ–∑–¥–∞–Ω–∏–µ –ø—Ä–æ–µ–∫—Ç–∞ –∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ Cargo.toml
3. [ ] –†–µ–∞–ª–∏–∑–∞—Ü–∏—è HTTP –∫–ª–∏–µ–Ω—Ç–∞ –¥–ª—è LHM API
4. [ ] –°–æ–∑–¥–∞–Ω–∏–µ system tray –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞
5. [ ] –î–æ–±–∞–≤–ª–µ–Ω–∏–µ Windows toast notifications
6. [ ] –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏
7. [ ] –°–æ–∑–¥–∞–Ω–∏–µ async monitoring loop
8. [ ] –°–±–æ—Ä–∫–∞ –∏ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ release –≤–µ—Ä—Å–∏–∏
9. [ ] –°–æ–∑–¥–∞–Ω–∏–µ —Å–∫—Ä–∏–ø—Ç–∞ —É—Å—Ç–∞–Ω–æ–≤–∫–∏/–∞–≤—Ç–æ–∑–∞–≥—Ä—É–∑–∫–∏

### 8. –ü—Ä–∏–º–µ—Ä LibreHardwareMonitor JSON —Å—Ç—Ä—É–∫—Ç—É—Ä—ã
```json
{
  "Children": [
    {
      "Text": "AMD Radeon RX 6700 XT",
      "Children": [
        {
          "Text": "Temperatures",
          "Children": [
            {
              "Text": "GPU Core",
              "Value": "72.5 ¬∞C",
              "Min": "31.0 ¬∞C",
              "Max": "84.0 ¬∞C"
            }
          ]
        }
      ]
    }
  ]
}
```

–≠—Ç–æ—Ç –ø–ª–∞–Ω —Ä–µ—à–∞–µ—Ç –≤—Å–µ –ø—Ä–æ–±–ª–µ–º—ã —Ç–µ–∫—É—â–µ–π PowerShell —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ –∏ —Å–æ–∑–¥–∞–µ—Ç –±—ã—Å—Ç—Ä–æ–µ, –Ω–∞–¥–µ–∂–Ω–æ–µ —Ä–µ—à–µ–Ω–∏–µ.